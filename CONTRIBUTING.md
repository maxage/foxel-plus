# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹ Foxel Plus é¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- ğŸ› æŠ¥å‘Š Bug
- âœ¨ æå‡ºæ–°åŠŸèƒ½
- ğŸ”Œ å¼€å‘æ–°æ’ä»¶
- ğŸ“ æ”¹è¿›æ–‡æ¡£
- ğŸ§ª ç¼–å†™æµ‹è¯•

## å¼€å‘ç¯å¢ƒè®¾ç½®

### å‰ç½®è¦æ±‚

- Node.js 18+ 
- npm æˆ– yarn
- Git

### æœ¬åœ°å¼€å‘

1. **Fork å¹¶å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/your-username/foxel-plus.git
   cd foxel-plus
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   # å®‰è£…æ‰€æœ‰æ’ä»¶çš„ä¾èµ–
   for plugin in foxel-*/; do
     if [ -f "$plugin/package.json" ]; then
       cd "$plugin"
       npm install
       cd ..
     fi
   done
   ```

3. **å¼€å‘æ’ä»¶**
   ```bash
   cd foxel-image-viewer  # æˆ–å…¶ä»–æ’ä»¶ç›®å½•
   npm run dev           # å¼€å‘æ¨¡å¼ï¼Œç›‘å¬æ–‡ä»¶å˜åŒ–
   ```

4. **æ„å»ºæ’ä»¶**
   ```bash
   npm run build         # ç”Ÿäº§æ„å»º
   ```

## æ’ä»¶å¼€å‘è§„èŒƒ

### ç›®å½•ç»“æ„

```
foxel-your-plugin/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.tsx          # React ä¸»ç»„ä»¶
â”‚   â””â”€â”€ index.tsx        # æ’ä»¶å…¥å£æ–‡ä»¶
â”œâ”€â”€ dist/
â”‚   â””â”€â”€ plugin.js        # æ„å»ºè¾“å‡º
â”œâ”€â”€ package.json         # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json        # TypeScript é…ç½®
â”œâ”€â”€ foxel.d.ts          # Foxel ç±»å‹å®šä¹‰
â”œâ”€â”€ build.sh            # æ„å»ºè„šæœ¬
â””â”€â”€ README.md           # æ’ä»¶æ–‡æ¡£
```

### ä»£ç è§„èŒƒ

1. **TypeScript**: ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®‰å…¨å¼€å‘
2. **React**: ä½¿ç”¨å‡½æ•°ç»„ä»¶å’Œ Hooks
3. **æ ·å¼**: ä½¿ç”¨å†…è”æ ·å¼ï¼Œé¿å…å…¨å±€æ ·å¼æ±¡æŸ“
4. **å‘½å**: ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å’Œå‡½æ•°å
5. **æ³¨é‡Š**: ä¸ºå¤æ‚é€»è¾‘æ·»åŠ æ³¨é‡Š

### å¿…éœ€å®ç°

- [ ] `window.FoxelRegister(plugin)` æ³¨å†Œæ’ä»¶
- [ ] `mount(container, ctx)` æŒ‚è½½æ–¹æ³•
- [ ] `unmount(container)` å¸è½½æ–¹æ³•ï¼ˆå¯é€‰ï¼‰
- [ ] ä½¿ç”¨ `ctx.urls.downloadUrl` è¯»å–æ–‡ä»¶
- [ ] ä»…æ“ä½œä¼ å…¥çš„ `container` èŠ‚ç‚¹
- [ ] æ ·å¼ä½¿ç”¨å”¯ä¸€ ID é¿å…æ±¡æŸ“

### æ¨èé…ç½®

- [ ] è®¾ç½®åˆé€‚çš„ `supportedExts`
- [ ] æä¾›æ¸…æ™°çš„ `name` å’Œ `description`
- [ ] æ·»åŠ  `icon`ï¼ˆå»ºè®®ä½¿ç”¨ data URIï¼‰
- [ ] è®¾ç½®åˆç†çš„ `defaultBounds`
- [ ] è¾“å‡º IIFE æ ¼å¼å•æ–‡ä»¶

## æäº¤æµç¨‹

### 1. åˆ›å»º Issue

åœ¨æäº¤ä»£ç ä¹‹å‰ï¼Œè¯·å…ˆåˆ›å»º Issue è®¨è®ºæ‚¨çš„æƒ³æ³•ï¼š

- ğŸ› **Bug æŠ¥å‘Š**: ä½¿ç”¨ Bug Report æ¨¡æ¿
- âœ¨ **åŠŸèƒ½è¯·æ±‚**: ä½¿ç”¨ Feature Request æ¨¡æ¿  
- ğŸ”Œ **æ’ä»¶è¯·æ±‚**: ä½¿ç”¨ Plugin Request æ¨¡æ¿

### 2. åˆ›å»ºåˆ†æ”¯

```bash
git checkout -b feature/your-feature-name
# æˆ–
git checkout -b fix/your-bug-fix
```

### 3. æäº¤ä»£ç 

```bash
git add .
git commit -m "feat: add amazing feature"
```

**æäº¤ä¿¡æ¯è§„èŒƒ**:
- `feat:` æ–°åŠŸèƒ½
- `fix:` Bug ä¿®å¤
- `docs:` æ–‡æ¡£æ›´æ–°
- `style:` ä»£ç æ ¼å¼è°ƒæ•´
- `refactor:` ä»£ç é‡æ„
- `test:` æµ‹è¯•ç›¸å…³
- `chore:` æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

### 4. æ¨é€å¹¶åˆ›å»º PR

```bash
git push origin feature/your-feature-name
```

ç„¶ååœ¨ GitHub ä¸Šåˆ›å»º Pull Requestã€‚

### 5. ä»£ç å®¡æŸ¥

- ç¡®ä¿æ‰€æœ‰æ£€æŸ¥é€šè¿‡
- å“åº”å®¡æŸ¥æ„è§
- ä¿æŒ PR ç®€æ´ï¼Œä¸€æ¬¡åªåšä¸€ä»¶äº‹

## æµ‹è¯•

### æœ¬åœ°æµ‹è¯•

1. æ„å»ºæ’ä»¶
2. å°†æ’ä»¶æ–‡ä»¶å¤åˆ¶åˆ° Foxel çš„ `web/public/plugins/` ç›®å½•
3. åœ¨ Foxel ä¸­å®‰è£…å¹¶æµ‹è¯•æ’ä»¶

### è‡ªåŠ¨åŒ–æµ‹è¯•

é¡¹ç›®ä½¿ç”¨ GitHub Actions è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼š

- **CI**: ç±»å‹æ£€æŸ¥å’Œæ„å»ºæµ‹è¯•
- **Build**: æ’ä»¶æ„å»ºå’Œæ‰“åŒ…
- **Release**: è‡ªåŠ¨å‘å¸ƒ

## å‘å¸ƒæµç¨‹

### ç‰ˆæœ¬å·è§„èŒƒ

ä½¿ç”¨ [è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/lang/zh-CN/)ï¼š

- `MAJOR`: ä¸å…¼å®¹çš„ API ä¿®æ”¹
- `MINOR`: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- `PATCH`: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

### å‘å¸ƒæ­¥éª¤

1. æ›´æ–°ç‰ˆæœ¬å·
2. æ›´æ–° CHANGELOG
3. åˆ›å»º Git Tag
4. æ¨é€æ ‡ç­¾è§¦å‘è‡ªåŠ¨å‘å¸ƒ

```bash
git tag v1.0.0
git push origin v1.0.0
```

## ç¤¾åŒºå‡†åˆ™

### è¡Œä¸ºå‡†åˆ™

- ä¿æŒå‹å–„å’Œå°Šé‡
- æ¬¢è¿ä¸åŒè§‚ç‚¹å’Œç»éªŒæ°´å¹³
- ä¸“æ³¨äºå¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…
- å¯¹å…¶ä»–ç¤¾åŒºæˆå‘˜ä¿æŒåŒç†å¿ƒ

### è·å–å¸®åŠ©

- ğŸ“– æŸ¥çœ‹ [æ–‡æ¡£](https://foxel.cc/guide/plugins-guide.html)
- ğŸ’¬ åœ¨ [Discussions](https://github.com/your-username/foxel-plus/discussions) ä¸­æé—®
- ğŸ› åœ¨ [Issues](https://github.com/your-username/foxel-plus/issues) ä¸­æŠ¥å‘Šé—®é¢˜

## è®¸å¯è¯

é€šè¿‡è´¡çŒ®ä»£ç ï¼Œæ‚¨åŒæ„æ‚¨çš„è´¡çŒ®å°†åœ¨ MIT è®¸å¯è¯ä¸‹å‘å¸ƒã€‚

---

å†æ¬¡æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ğŸ‰
